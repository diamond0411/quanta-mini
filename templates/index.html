<!doctype html>
<head>
    <title>Stock Query Form</title>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const today = new Date().toISOString().split("T")[0];

            const startDate = document.getElementById("start_date");
            const endDate = document.getElementById("end_date");

            startDate.max = today;
            endDate.max = today;

            startDate.addEventListener("change", function () {
                endDate.min = startDate.value;  
                endDate.value = endDate.value < startDate.value ? startDate.value : endDate.value;
            });
            endDate.addEventListener("change", function () {
                startDate.max = endDate.value || today;
                startDate.value = endDate.value < startDate.value ? endDate.value : startDate.value;
            });
        });
    </script>
</head>
<html>
   <body>
     <main>
        <form method="get" action="http://127.0.0.1:5000/get-report">
            <div class="col-md-6 mx-auto text-center">

                <div class="my-2">
                <label for="ticker" class="form-label fw-bold fs-5">Stock Ticker:</label>
                <input type="text" class="form-control" id="ticker" name="ticker" required style="max-width: 256px;">
                </div>

                <div class="my-2">
                <label for="start_date" class="form-label fw-bold fs-5 mt-3">Start Date (YYYY-MM-DD):</label>
                <input type="date" class="form-control" id="start_date" name="start_date" required style="max-width: 256px;">
                </div>

                <div class="my-2">
                <label for="end_date" class="form-label fw-bold fs-5 mt-3">End Date (YYYY-MM-DD):</label>
                <input type="date" class="form-control" id="end_date" name="end_date" required style="max-width: 256px;">
                </div>

                <div class="my-2">
                <label for="pvbt" class="form-label fw-bold fs-5 mt-3">Percent Volume Breakout Threshold:</label>
                <input type="number" class="form-control" id="pvbt" name="pvbt" required style="max-width: 256px;">
                </div>

                <div class="my-2">
                <label for="dct" class="form-label fw-bold fs-5 mt-3">Daily Change Threshold:</label>
                <input type="number" class="form-control" id="dct" name="dct" required style="max-width: 256px;">
                </div>

                <div class="my-2">
                <label for="holding" class="form-label fw-bold fs-5 mt-3">Holding Days:</label>
                <input type="number" class="form-control" id="holding" name="holding" required style="max-width: 256px;">
                </div>
                <!-- Submit Button -->
                <div class="my-3">
                <div class="d-grid gap-2 d-sm-flex justify-content-sm-center my-3">
                    <button type="submit" class="btn btn-primary btn-lg px-4 gap-3">Submit</button>
                </div>
                </div>
            </div>
        </form>
     </main>      
   </body>
</html>